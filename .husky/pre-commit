#!/usr/bin/env bash
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running lint, prettier, and tests before commit..."

# Run lint and fail immediately if it fails
npm run lint || { echo "âŒ ESLint failed!"; exit 1; }

# Run prettier check and fail immediately if it fails
npm run format:check || { echo "âŒ Prettier check failed! Run 'npm run format'"; exit 1; }

# Run tests and fail immediately if they fail
npm test -- --watchAll=false || { echo "âŒ Tests failed!"; exit 1; }

echo "âœ… All pre-commit checks passed!"